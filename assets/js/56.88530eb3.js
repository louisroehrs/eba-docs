(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{232:function(e,t,s){"use strict";s.r(t);var n=s(0),a=Object(n.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),s("p",[e._v("External actions allow you host your agents code outside of EBA. You can use any language, any platform any scaling and high availability strategies at your choice. You can host your agents along your application and use unified CI/CD pipeline if you like.")]),e._v(" "),s("p",[e._v("The request payload will be sent to your URL as JWT token in POST body. You can use RSA public key to verify the origin of such requests. Protocol is the same as for hosted FaaS actions so you can use EBA "),s("router-link",{attrs:{to:"./NodeHelpers.html"}},[e._v("node helpers")]),e._v(" to parse input and form result.")],1),e._v(" "),s("p",[e._v("Please find below the sample agent action code:")]),e._v(" "),e._m(1),e._m(2)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"external-runtime"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#external-runtime","aria-hidden":"true"}},[this._v("#")]),this._v(" External Runtime")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("npm install git+https://github.com/ibm-watson-embedded-business-assistant/eba-node-agent.git\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("const fs = require('fs')\nconst jwt = require('jsonwebtoken')\nconst express = require('express')\nconst bodyBarser = require('body-parser')\nconst eba = require('eba-node-agent')\n\n// RSA public key from EBA Lab\nlet key = fs.readFileSync('public.pem')\n\nlet app = express()\napp.use(bodyBarser.text({type: 'application/jwt'}))\n\napp.post('/getSomething', (req, res) => {\n    let params = jwt.verify(req.body, key)\n    res.json({\n        success: true,\n        result: new eba.Result().setData(':Something', 42)\n    })\n})\n\napp.listen(process.env.PORT || 5000)\n")])])])}],!1,null,null,null);t.default=a.exports}}]);