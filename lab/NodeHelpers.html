<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node helpers | IBM Embedded Business AI Framework</title>
    <meta name="description" content="Ask, get answers, and automate in the language of your business.">
    
    
    <link rel="preload" href="/eba-docs/assets/css/0.styles.a050cb89.css" as="style"><link rel="preload" href="/eba-docs/assets/js/app.3403747c.js" as="script"><link rel="preload" href="/eba-docs/assets/js/57.4515f1ed.js" as="script"><link rel="prefetch" href="/eba-docs/assets/js/10.a32de72a.js"><link rel="prefetch" href="/eba-docs/assets/js/11.7044a9ed.js"><link rel="prefetch" href="/eba-docs/assets/js/12.d7473428.js"><link rel="prefetch" href="/eba-docs/assets/js/13.169b8d24.js"><link rel="prefetch" href="/eba-docs/assets/js/14.b0b51c99.js"><link rel="prefetch" href="/eba-docs/assets/js/15.9cd811bd.js"><link rel="prefetch" href="/eba-docs/assets/js/16.f04cedd8.js"><link rel="prefetch" href="/eba-docs/assets/js/17.53a4311b.js"><link rel="prefetch" href="/eba-docs/assets/js/18.4be7aa54.js"><link rel="prefetch" href="/eba-docs/assets/js/19.43a4c087.js"><link rel="prefetch" href="/eba-docs/assets/js/2.9ead8820.js"><link rel="prefetch" href="/eba-docs/assets/js/20.2339fd9b.js"><link rel="prefetch" href="/eba-docs/assets/js/21.3f6d0150.js"><link rel="prefetch" href="/eba-docs/assets/js/22.dbc8515d.js"><link rel="prefetch" href="/eba-docs/assets/js/23.01e88cbf.js"><link rel="prefetch" href="/eba-docs/assets/js/24.9ce21ebf.js"><link rel="prefetch" href="/eba-docs/assets/js/25.fac08eed.js"><link rel="prefetch" href="/eba-docs/assets/js/26.51bd2028.js"><link rel="prefetch" href="/eba-docs/assets/js/27.9b14d585.js"><link rel="prefetch" href="/eba-docs/assets/js/28.6d8a0e25.js"><link rel="prefetch" href="/eba-docs/assets/js/29.2afef2db.js"><link rel="prefetch" href="/eba-docs/assets/js/3.37272d66.js"><link rel="prefetch" href="/eba-docs/assets/js/30.b79d6fb3.js"><link rel="prefetch" href="/eba-docs/assets/js/31.00a35a55.js"><link rel="prefetch" href="/eba-docs/assets/js/32.9f5c7ef0.js"><link rel="prefetch" href="/eba-docs/assets/js/33.24efcc25.js"><link rel="prefetch" href="/eba-docs/assets/js/34.8190f982.js"><link rel="prefetch" href="/eba-docs/assets/js/35.85e05e0d.js"><link rel="prefetch" href="/eba-docs/assets/js/36.eb510061.js"><link rel="prefetch" href="/eba-docs/assets/js/37.ae51f5dc.js"><link rel="prefetch" href="/eba-docs/assets/js/38.90371885.js"><link rel="prefetch" href="/eba-docs/assets/js/39.f0862eda.js"><link rel="prefetch" href="/eba-docs/assets/js/4.8cb4e5bb.js"><link rel="prefetch" href="/eba-docs/assets/js/40.14bfb347.js"><link rel="prefetch" href="/eba-docs/assets/js/41.69f593cb.js"><link rel="prefetch" href="/eba-docs/assets/js/42.d21204d2.js"><link rel="prefetch" href="/eba-docs/assets/js/43.de3ea1ef.js"><link rel="prefetch" href="/eba-docs/assets/js/44.30720a9c.js"><link rel="prefetch" href="/eba-docs/assets/js/45.a4790e9d.js"><link rel="prefetch" href="/eba-docs/assets/js/46.c4c990b9.js"><link rel="prefetch" href="/eba-docs/assets/js/47.5909ea53.js"><link rel="prefetch" href="/eba-docs/assets/js/48.16a24e76.js"><link rel="prefetch" href="/eba-docs/assets/js/49.0b002da0.js"><link rel="prefetch" href="/eba-docs/assets/js/5.2e8299f6.js"><link rel="prefetch" href="/eba-docs/assets/js/50.eaec7ada.js"><link rel="prefetch" href="/eba-docs/assets/js/51.297b3c00.js"><link rel="prefetch" href="/eba-docs/assets/js/52.5a644261.js"><link rel="prefetch" href="/eba-docs/assets/js/53.0f2fd27a.js"><link rel="prefetch" href="/eba-docs/assets/js/54.8c36764e.js"><link rel="prefetch" href="/eba-docs/assets/js/55.18fed56a.js"><link rel="prefetch" href="/eba-docs/assets/js/56.88530eb3.js"><link rel="prefetch" href="/eba-docs/assets/js/58.3f11c74e.js"><link rel="prefetch" href="/eba-docs/assets/js/59.bd0bf126.js"><link rel="prefetch" href="/eba-docs/assets/js/6.8e37d59a.js"><link rel="prefetch" href="/eba-docs/assets/js/60.e411ccaa.js"><link rel="prefetch" href="/eba-docs/assets/js/61.965f1943.js"><link rel="prefetch" href="/eba-docs/assets/js/62.2db18915.js"><link rel="prefetch" href="/eba-docs/assets/js/63.60826fcb.js"><link rel="prefetch" href="/eba-docs/assets/js/64.4e484809.js"><link rel="prefetch" href="/eba-docs/assets/js/65.75d25a76.js"><link rel="prefetch" href="/eba-docs/assets/js/66.13ac7a55.js"><link rel="prefetch" href="/eba-docs/assets/js/67.a81a1021.js"><link rel="prefetch" href="/eba-docs/assets/js/68.8015ea0e.js"><link rel="prefetch" href="/eba-docs/assets/js/69.35bf8592.js"><link rel="prefetch" href="/eba-docs/assets/js/7.08c48c2f.js"><link rel="prefetch" href="/eba-docs/assets/js/70.b92e58ef.js"><link rel="prefetch" href="/eba-docs/assets/js/71.7aff4272.js"><link rel="prefetch" href="/eba-docs/assets/js/72.2b042f12.js"><link rel="prefetch" href="/eba-docs/assets/js/73.479400e8.js"><link rel="prefetch" href="/eba-docs/assets/js/74.f3d49b29.js"><link rel="prefetch" href="/eba-docs/assets/js/75.644e4dc2.js"><link rel="prefetch" href="/eba-docs/assets/js/76.0b3be451.js"><link rel="prefetch" href="/eba-docs/assets/js/77.70aab8b4.js"><link rel="prefetch" href="/eba-docs/assets/js/78.6fbb3df5.js"><link rel="prefetch" href="/eba-docs/assets/js/79.1bf27678.js"><link rel="prefetch" href="/eba-docs/assets/js/8.b2913ca0.js"><link rel="prefetch" href="/eba-docs/assets/js/80.49bf67da.js"><link rel="prefetch" href="/eba-docs/assets/js/81.0e9cf2a3.js"><link rel="prefetch" href="/eba-docs/assets/js/82.950f02ed.js"><link rel="prefetch" href="/eba-docs/assets/js/83.700f35b5.js"><link rel="prefetch" href="/eba-docs/assets/js/84.e4c45909.js"><link rel="prefetch" href="/eba-docs/assets/js/85.b6641e48.js"><link rel="prefetch" href="/eba-docs/assets/js/86.90df0881.js"><link rel="prefetch" href="/eba-docs/assets/js/87.5f40b4e9.js"><link rel="prefetch" href="/eba-docs/assets/js/88.cf2561a2.js"><link rel="prefetch" href="/eba-docs/assets/js/89.451fd7d4.js"><link rel="prefetch" href="/eba-docs/assets/js/9.33bb6af0.js"><link rel="prefetch" href="/eba-docs/assets/js/90.8b80a1bb.js"><link rel="prefetch" href="/eba-docs/assets/js/91.b992b61a.js"><link rel="prefetch" href="/eba-docs/assets/js/92.46fad1a2.js"><link rel="prefetch" href="/eba-docs/assets/js/93.af59df59.js"><link rel="prefetch" href="/eba-docs/assets/js/94.ce81afd6.js"><link rel="prefetch" href="/eba-docs/assets/js/95.31f5c147.js"><link rel="prefetch" href="/eba-docs/assets/js/96.e34e9e41.js"><link rel="prefetch" href="/eba-docs/assets/js/97.cf82a727.js"><link rel="prefetch" href="/eba-docs/assets/js/98.9a555d93.js"><link rel="prefetch" href="/eba-docs/assets/js/99.df53cfaf.js">
    <link rel="stylesheet" href="/eba-docs/assets/css/0.styles.a050cb89.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/eba-docs/" class="home-link router-link-active"><!----> <span class="site-name">IBM Embedded Business AI Framework</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/eba-docs/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/eba-docs/guide/LandingPage.html" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/eba-docs/release/ReleaseNotes.html" class="nav-link">Release Notes</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Use it now</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://eba.ibm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Launch in Web
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ibm.box.com/shared/static/m7wm02x2qdevpacf2u1ugj6koapr37ta.dmg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download as App
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://slack.com/oauth/authorize?client_id=14390917878.401235455793&amp;scope=bot,users.profile:read&amp;redirect_uri=https%3a%2f%2feba.ibm.com%2fslack%2foauth" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Add to Slack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/louisroehrs/eba-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/eba-docs/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/eba-docs/guide/LandingPage.html" class="nav-link">Documentation</a></div><div class="nav-item"><a href="/eba-docs/release/ReleaseNotes.html" class="nav-link">Release Notes</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Use it now</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://eba.ibm.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Launch in Web
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://ibm.box.com/shared/static/m7wm02x2qdevpacf2u1ugj6koapr37ta.dmg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download as App
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://slack.com/oauth/authorize?client_id=14390917878.401235455793&amp;scope=bot,users.profile:read&amp;redirect_uri=https%3a%2f%2feba.ibm.com%2fslack%2foauth" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Add to Slack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/louisroehrs/eba-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Programming</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Development Lab</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/eba-docs/lab/Overview.html" class="sidebar-link">Lab overview</a></li><li><a href="/eba-docs/lab/ControlBar.html" class="sidebar-link">Control bar</a></li><li><a href="/eba-docs/lab/General.html" class="sidebar-link">General tab</a></li><li><a href="/eba-docs/lab/Concepts.html" class="sidebar-link">Concepts tab</a></li><li><a href="/eba-docs/lab/Patterns.html" class="sidebar-link">Patterns tab</a></li><li><a href="/eba-docs/lab/Actions.html" class="sidebar-link">Actions tab</a></li><li><a href="/eba-docs/lab/Rules.html" class="sidebar-link">Rules tab</a></li><li><a href="/eba-docs/lab/Assets.html" class="sidebar-link">Assets tab</a></li><li><a href="/eba-docs/lab/Explore.html" class="sidebar-link">Explore tab</a></li><li><a href="/eba-docs/lab/Debug.html" class="sidebar-link">Debug tab</a></li><li><a href="/eba-docs/lab/Training.html" class="sidebar-link">Training tab</a></li><li><a href="/eba-docs/lab/SourceControl.html" class="sidebar-link">Github tab</a></li><li><a href="/eba-docs/lab/NodeHelpers.html" class="active sidebar-link">Node helpers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#input" class="sidebar-link">Input</a></li><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#output" class="sidebar-link">Output</a></li><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#lazy-evaluation" class="sidebar-link">Lazy Evaluation</a></li><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#ontology" class="sidebar-link">Ontology</a></li><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#short-term-memory" class="sidebar-link">Short Term Memory</a></li><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#long-term-memory" class="sidebar-link">Long Term Memory</a></li><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#natural-language-generation" class="sidebar-link">Natural Language Generation</a></li><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#natural-language-understanding" class="sidebar-link">Natural Language Understanding</a></li><li class="sidebar-sub-header"><a href="/eba-docs/lab/NodeHelpers.html#use-in-external-actions" class="sidebar-link">Use in external actions</a></li></ul></li><li><a href="/eba-docs/lab/assets/Frontend.html" class="sidebar-link">Frontend</a></li><li><a href="/eba-docs/lab/UIComponents.html" class="sidebar-link">Frontend UI components</a></li><li><a href="/eba-docs/lab/NodeModules.html" class="sidebar-link">NodeJS support</a></li><li><a href="/eba-docs/lab/ExternalRuntime.html" class="sidebar-link">External runtime</a></li><li><a href="/eba-docs/lab/BlackboxRuntime.html" class="sidebar-link">Blackbox runtime</a></li><li><a href="/eba-docs/lab/AgentAPI.html" class="sidebar-link">Agent API</a></li><li><a href="/eba-docs/lab/l10N.html" class="sidebar-link">Localization API</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Example agents</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Integrations</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Articles</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Release notes</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="node-helpers"><a href="#node-helpers" aria-hidden="true" class="header-anchor">#</a> Node helpers</h1> <p>A nodejs action within EBA can import the package &quot;eba&quot; which includes a variety of utility methods for working within the Assistant framework.</p> <h3 id="table-of-contents"><a href="#table-of-contents" aria-hidden="true" class="header-anchor">#</a> Table of contents</h3> <ul><li><a href="#input">Input</a></li> <li><a href="#output">Output</a></li> <li><a href="#lazy-evaluation">Lazy Evaluation</a></li> <li><a href="#ontology">Ontology</a></li> <li><a href="#short-term-memory">Short Term Memory</a></li> <li><a href="#long-term-memory">Long Term Memory</a></li> <li><a href="#natural-language-generation">Natural Language Generation</a></li> <li><a href="#natural-language-understanding">Natural Language Understanding</a></li> <li><a href="#use-in-external-actions">Use in external actions</a></li></ul> <h2 id="input"><a href="#input" aria-hidden="true" class="header-anchor">#</a> Input</h2> <p><code>Params</code> is used to interact with the parameters within your action. You can initialize an instance by passing in the input params of your main function:</p> <div class="language- extra-class"><pre class="language-text"><code>const eba = require('eba')

module.exports.main = function(params) {
    let p = new eba.Params(params)
}
</code></pre></div><p>You can use method <code>get(paramName)</code> of <code>Params</code> object to get a value associated with a particular parameter. This method will automatically force the lazy values (see <a href="#lazy-evaluation">Lazy Evaluation</a>)</p> <p>Note: since <code>get()</code> forces the execution of lazy data, it is asynchronous and should be handled using either Promises or async/await. We recommend to use async/await:</p> <div class="language- extra-class"><pre class="language-text"><code>const eba = require('eba')

module.exports.main = async function(params) {
    let p = new eba.Params(params)
    let value = await p.get(&quot;example:ParamName&quot;)
}
</code></pre></div><p>You can also get a concept name given a parameter name using <code>getName(paramName)</code> method. It can be useful if you semantic action takes polymorphic input parameters and you need to know the exact concept name at the execution time.</p> <h2 id="output"><a href="#output" aria-hidden="true" class="header-anchor">#</a> Output</h2> <p><code>Result</code> is a convenience class for providing an appropriate response to EBA. It contains methods to set data for the output nodes of your semantic action. Instances are typically created using an empty constructor.</p> <div class="language- extra-class"><pre class="language-text"><code>const eba = require('eba')

module.exports.main = function(params) {
    return new eba.Result()
        .setData('example:ParamName', { foo: 'bar' })
}
</code></pre></div><p>Note: <code>setData()</code> method can also accept lazy values (see <a href="#lazy-evaluation">Lazy Evaluation</a>)</p> <p>Using the <code>Result</code> object you can also change name, type and tags of the output nodes:</p> <ul><li><code>setName(paramName, nodeName)</code> -- sets name of the node for paramName as nodeName</li> <li><code>setType(paramName, type)</code>     -- sets type of the node for paramName as type</li> <li><code>addTags(paramName, ..tags)</code>   -- sets tags of the node for paramName as tags</li></ul> <h2 id="lazy-evaluation"><a href="#lazy-evaluation" aria-hidden="true" class="header-anchor">#</a> Lazy Evaluation</h2> <p>EBA supports lazy evaluations to reduce data footprint when executing semantic actions. Lazy evaluations are especially important in OpenWhisk actions as OpenWhisk has limitations for input/output data. The input and output data of a semantic action may contain lazy values. <code>Params</code> helper is designed to recognize and handle lazy values properly. If you use <code>get()</code> method it will force the lazy data for you. However if you need to keep the data lazy (for example to perform another lazy operations on top of the data) you should use <code>getLazy()</code> method instead. Lazy value has the following methods:</p> <ul><li><code>lazyTake(n)</code>         -- takes top n from a collection</li> <li><code>lazySort(k)</code>         -- sorts a collection by k</li> <li><code>lazyValues(k)</code>       -- maps a collection by k</li> <li><code>lazyFilter(k, p, v)</code> -- filters a collection for all k evaluated by p equaling v</li> <li><code>lazyFilters(xs)</code> -- filters a list of filters using disjunctive OR logic</li> <li><code>lazyPortion(p)</code>      -- takes rounded percentile p from a collection</li> <li><code>lazyReverse()</code>       -- reverses a collection</li> <li><code>lazyLength()</code>        -- gets the length of a collection</li> <li><code>lazyFirst()</code>         -- gets the first element of a collection</li> <li><code>lazyLast()</code>          -- gets the last element of a collection</li> <li><code>lazyForce()</code>         -- forces the execution of lazy operations</li></ul> <p>Note that in the case of lazyFilter we support the following predicates.</p> <div class="language- extra-class"><pre class="language-text"><code>if (p == &quot;&lt;&quot;)  return (x, y) =&gt; x &lt;  y
if (p == &quot;&lt;=&quot;) return (x, y) =&gt; x &lt;= y
if (p == &quot;=&quot;)  return (x, y) =&gt; x == y
if (p == &quot;&lt;&gt;&quot;) return (x, y) =&gt; x != y
if (p == &quot;&gt;=&quot;) return (x, y) =&gt; x &gt;= y
if (p == &quot;&gt;&quot;)  return (x, y) =&gt; x &gt;  y
if (p == &quot;startsWith&quot;) return startsWith
if (p == &quot;endsWith&quot;) return endsWith
if (p == &quot;contains&quot;) return contains
if (p == &quot;like&quot;) return fuzzyCheck
if (p == &quot;between&quot;) return between
</code></pre></div><p>These predicates are straightforward, but we will note that the &quot;like&quot; predicate performs a fuzzy check based on levenshtein distance and the &quot;between&quot; predicate is used to check date values between a specified start and end period, e.g. <code>lazyFilter('closingDate', 'between', {from: date.start, to: date.end})</code>.</p> <p>Every method except <code>lazyForce()</code> returns new lazy value so the lazy operators can be chained:</p> <div class="language- extra-class"><pre class="language-text"><code>const eba = require(&quot;eba&quot;)

module.exports.main = async function(params) {
    let p = new eba.Params(params)
    let lazyValue = p.getLazy(&quot;example:ParamName&quot;)
    let newLazyValue = lazyValue.lazySort(&quot;name&quot;).lazyTake(5)
}
</code></pre></div><p>Note: <code>lazyForce()</code> is an asynchronous method. It should be handled using Promises or async/await. It is developers responsibility to correctly force the execution of this lazy data.</p> <p>In semantic action you can create your own lazy value using <code>makeLazyData()</code> method of <code>Params</code> object. This method takes the JSON object with the instructions to force the data once it will be requested. The <code>@force</code> endpoint is the place to handle this.</p> <div class="language- extra-class"><pre class="language-text"><code>const eba = require(&quot;eba&quot;)

module.exports.main = async function(params) {
    let p = new eba.Params(params)
    let lazyValue = p. makeLazyData({ foo: &quot;bar&quot; })
    return new eba.Result().setData(&quot;example:ParamName&quot;, lazyValue)
}
</code></pre></div><h2 id="ontology"><a href="#ontology" aria-hidden="true" class="header-anchor">#</a> Ontology</h2> <p>To query the ontology you can use <code>query()</code> method of <code>Params</code> object. This method takes query string. The syntax of ontology query as the same as the one in semantic action constraints:</p> <div class="language- extra-class"><pre class="language-text"><code>const eba = require(&quot;eba&quot;)

module.exports.main = async function(params) {
    let p = new eba.Params(params)
    let result = await p.query(&quot;a isListOf b, b subClassOf :Showable&quot;)
}
</code></pre></div><p>The method returns a list of possible matches where each item is a map of the polymorphic symbols to the concept names.</p> <p>Note: <code>query()</code> method is asynchronous and should be handled using either Promises or async/await.</p> <h2 id="short-term-memory"><a href="#short-term-memory" aria-hidden="true" class="header-anchor">#</a> Short Term Memory</h2> <p>Short-term memory is aimed to store and reuse data within a session. To save the data into short-term memory the <code>store()</code> method of <code>Result</code> object. This method takes string key and JSON value:</p> <div class="language- extra-class"><pre class="language-text"><code>const eba = require(&quot;eba&quot;)

module.exports.main = function(params) {
    return new eba.Result().store(&quot;foo&quot;, { bar: &quot;baz&quot; })
}
</code></pre></div><p>The saved data can be accessed from subsequent actions via params:</p> <div class="language- extra-class"><pre class="language-text"><code>module.exports.main = function(params) {
    let myData = params.storage.foo
}
</code></pre></div><h2 id="long-term-memory"><a href="#long-term-memory" aria-hidden="true" class="header-anchor">#</a> Long Term Memory</h2> <p>Long-term memory allows you data to survive between sessions. To load and save the data the corresponding methods of <code>Params</code> object may be used:</p> <ul><li><code>load(path)</code> - loads data from long-term memory</li> <li><code>save(path, data)</code> - saves data to long-term memory</li></ul> <p>Note that both methods are asynchronous.</p> <h2 id="natural-language-generation"><a href="#natural-language-generation" aria-hidden="true" class="header-anchor">#</a> Natural Language Generation</h2> <p>EBA can generate natural language automatically based on signature of the semantic actions. However the semantic actions interface allows developers to provide their own natural language representation. The Natural Language Generator takes natural language token associated with a data node (represented as <code>NLToken</code> object) and produces the natural text. In semantic action you can return <code>NLToken</code> for the output node using <code>setMeta()</code> method of <code>Result</code> object. <code>NLToken</code> objects can be combined so you can take the <code>NLToken</code> from the input nodes and combine them:</p> <div class="language- extra-class"><pre class="language-text"><code>const eba = require('eba')

module.exports.main = function(params) {
    let p = new eba.Params(params)
    let inputToken = p.getMeta(&quot;example:ParamName&quot;)
    let outputToken = new eba.NLtoken(&quot;example:OutputName&quot;).addProperty(&quot;:Relation&quot;, inputToken)
    return new eba.Result().setMeta(&quot;example:OutputName&quot;, outputToken)
}
</code></pre></div><h2 id="natural-language-understanding"><a href="#natural-language-understanding" aria-hidden="true" class="header-anchor">#</a> Natural Language Understanding</h2> <ul><li><code>makeAnnotation(conceptName, confidence)</code>             -- creates an annotation with concept and confidence</li> <li><code>insertAnnotation({token, annotations}, conceptName)</code> -- inserts an annotation into supplied annotations</li> <li><code>mapTree(tree, f)</code>                                    -- applies <code>f</code> to each element in the tree</li> <li><code>reduceTree(tree, f, acc)</code>                            -- reduces values to an accumulator after applying <code>f</code> recursively.</li></ul> <h2 id="use-in-external-actions"><a href="#use-in-external-actions" aria-hidden="true" class="header-anchor">#</a> Use in external actions</h2> <p>To use EBA helpers in external actions add eba-agent module as a dependency:</p> <div class="language- extra-class"><pre class="language-text"><code>npm install git+https://github.com/ibm-watson-embedded-business-assistant/eba-node-agent.git
...
const eba = require('eba-node-agent')
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/louisroehrs/eba-docs/edit/master/docs/lab/NodeHelpers.md" target="_blank" rel="noopener noreferrer">edit</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/eba-docs/lab/SourceControl.html" class="prev">
          Github tab
        </a></span> <span class="next"><a href="/eba-docs/lab/assets/Frontend.html">
          Frontend
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/eba-docs/assets/js/app.3403747c.js" defer></script><script src="/eba-docs/assets/js/57.4515f1ed.js" defer></script>
  </body>
</html>
